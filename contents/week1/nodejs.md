# Node.js

## Node.js의 탄생

예전에는 브라우저 환경에서만 자바스크립트를 실행해왔다. 이는 브라우저에 자바스크립트 런타임을 내장하고 있어서 가능했는데, 다른 환경(로컬 등)에서 사용하기 위한 노력이 있었으나 실행 속도 문제로 어려움을 겪었다고 한다.

그러다 구글에서 해당 이슈를 해결한 V8 엔진을 오픈소스로 공개했다. V8 덕분에 실행 속도를 개선하고, 브라우저 환경이 아닌 곳에서도 자바스크립트를 실행할 수 있는 Node.js가 탄생하게 됐다. 그 이후로 자바스크립트를 일반 프로그래밍 언어처럼 사용할 수 있게 된 것이다.



## React에서 Node.js를 사용하는 이유

React를 사용할 때 왜 항상 Node.js가 따라붙는지 궁금했다. React 프로젝트에서 Node.js가 반드시 필요한 건 아니라는데, Node.js를 사용하는 이유는 무엇일까?

Node.js를 설치하면 따라오는 **npm(Node Package Manager)** 이 개발에 필요한 다양한 도구들을 쉽게 설치하고 관리할 수 있게 해주기 때문이다.



## npm의 필요성

예를 들면, React에서 주로 사용하는 JSX는 브라우저가 이해하지 못한다. 자바스크립트 최신 문법을 이해하지 못하는 브라우저도 존재한다. 그럴 때 사용하는게 트랜스파일러다. 가장 잘 알려진 트랜스파일러인 Babel 또한 npm을 통해 설치할 수 있으며, 번들러인 webpack 또한 그렇다.

또, 자바스크립트로 어떤 복잡한 기능을 구현하는 대신 npm에 있는 다른 유용한 패키지도 사용할 수 있다.

이처럼 웹 개발을 편리하게 해주는 다양한 도구들을 npm이 제공하는 CLI(Command Line Interface)로 쉽게 설치하고, 사용하고, 관리할 수 있다. 웹의 규모가 크고 복잡할수록 이러한 장점이 더욱 도드라진다.



## npm 관련 파일

### package.json

해당 프로젝트의 기본적인 정보와 의존중인 모든 패키지에 대한 버전 정보가 담겨있는 파일이다. 이 파일 덕분에 한 번의 명령어로 필요한 패키지를 모두 설치할 수 있다.

주요 항목 설명 :

* `dependencies` : 일반적으로 패키지를 설치하면 `dependencies` 항목 안에 패키지 정보가 담긴다. 애플리케이션 동작과 직접적으로 연관된 프로그램으로, 배포할 때 포함된다.
* `devDependencies` : `-D` 옵션을 사용해서 패키지를 설치하면 `devDependencies` 항목 안에 패키지 정보가 담긴다. 애플리케이션 동작과는 직접적인 관련은 없지만 개발할 때 필요한 개발 도구로, 배포할 때 포함되지 않는다.

### node-module

프로젝트가 의존하고 있는 모듈(package.json에 있는 의존성 패키지)과, 그 모듈이 의존하고 있는 모듈이 전부 담겨있는 폴더다. 용량도 크고, 패키지 정보가 package.json 파일에 있어 설치하기 쉽기 때문에 git에 올릴 때 제외하고 올린다.

### package-lock.json

이 파일은 보통 npm을 사용해서 node\_modules 폴더나 package.json 파일이 변경되면 갱신되는데, 이 때의 의존성 트리(node\_modules)에 대한 정보를 가지고 있다. package.json 에서의 버전은 Version Range를 따르는데, 정확히 어떤 버전을 사용했는지는 이 파일에서 확인할 수 있다.

이로 인해 프로젝트를 진행할 때 다른 사람과 동일한 환경에서 개발할 수 있게 된다.



## npx

npx는 Package Runner로서, npm을 좀 더 편하게 사용할 수 있게 새로 생긴 CLI 도구이다.

설치된 패키지 중 `node_modules/.bin` 폴더에 실행파일이 설치된 패키지라면 npx를 통해 간편하게 실행할 수 있다. 참고로 `-D` 옵션을 이용하여 설치한 개발 도구는 모두 npx로 실행할 수 있다.

```bash
./node_modules/.bin/prettier -v

npx prettier -v
```

또한, 설치되지 않은 패키지도 npx를 통해 실행할 수 있다. 실행할 때만 임시로 패키지가 설치되었다가 실행 후에 다시 삭제된다.

추가로, gist에 있는 script도 `npx {gist url}`로 실행 가능하다고 한다.
